/* * Copyright (c) 2014,KJFrameForAndroid Open Source Project,张涛. * * Licensed under the Apache License, Version 2.0 (the "License"); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * *      http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */package org.kymjs.kjframe.http.core;import java.util.Comparator;import java.util.TreeMap;/** * 一个无视大小写的Map *  * @author kymjs (http://github.com/kymjs) *  * @param <K> * @param <V> */public class CaseInsensitiveMap<K, V> extends TreeMap<K, V> {    private static final long serialVersionUID = -963451042992843686L;    public CaseInsensitiveMap() {        super(new InsensitiveComparator<K>());    }    static class InsensitiveComparator<T> implements Comparator<T> {        @Override        public int compare(Object o1, Object o2) {            String s1 = (String) o1;            String s2 = (String) o2;            return s1.toUpperCase().compareTo(s2.toUpperCase());        }        @Override        public boolean equals(Object o) {            return compare(this, o) == 0;        }    }}